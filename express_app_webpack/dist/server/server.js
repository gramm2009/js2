(()=>{var e,t,r,n,s={319:e=>{e.exports={add:function(e,t){return e.contents.push(t.body),{newCart:JSON.stringify(e,null,4),name:t.body.product_name}},change:function(e,t){var r=e.contents.find((function(e){return e.id_product===+t.params.id}));return r.quantity+=t.body.quantity,{newCart:JSON.stringify(e,null,4),name:r.product_name}},remove:function(e,t){var r=e.contents.find((function(e){return e.id_product===+t.params.id}));return e.contents.splice(e.contents.indexOf(r),1),{newCart:JSON.stringify(e,null,4),name:r.product_name}}}},508:(e,t,r)=>{var n=r(127),s=r(303),o=r(747),i=n.Router();i.get("/",(function(e,t){o.readFile("dist/server/db/userCart.json",(function(e,r){if(e)return console.log(e),void t.send({result:0,text:e});t.send(r)}))})),i.post("/",(function(e,t){s(e,t,"add","dist/server/db/userCart.json")})),i.put("/:id",(function(e,t){s(e,t,"change","dist/server/db/userCart.json")})),i.delete("/:id",(function(e,t){s(e,t,"remove","dist/server/db/userCart.json")})),e.exports=i},303:(e,t,r)=>{var n=r(319),s=r(747),o=r(281);e.exports=function(e,t,r,i){s.readFile(i,(function(u,d){if(u)return console.log(u),void t.send({result:0,text:u});var a=n[r](JSON.parse(d),e),c=a.newCart,l=a.name;s.writeFile(i,c,(function(e){if(e)return console.log(e),void t.send({result:0,text:e});o(l,r),t.send({result:1})}))}))}},281:(e,t,r)=>{var n=r(470),s=r(747);e.exports=function(e,t){s.readFile("dist/server/db/stats.json","utf-8",(function(r,o){if(r)console.log(r);else{var i=JSON.parse(o);i.push({time:n().format("MMMM Do YYYY, h:mm:ss a"),prod_name:e,action:t}),s.writeFile("dist/server/db/stats.json",JSON.stringify(i,null,4),(function(e){e&&console.log(e)}))}}))}},127:e=>{"use strict";e.exports=require("express")},747:e=>{"use strict";e.exports=require("fs")},470:e=>{"use strict";e.exports=require("moment")}},o={};function i(e){if(o[e])return o[e].exports;var t=o[e]={exports:{}};return s[e](t,t.exports,i),t.exports}e=i(127),t=i(747),r=i(508),(n=e()).use(e.json()),n.use("/",e.static("dist/public")),n.use("/api/cart",r),n.get("/api/products",(function(e,r){t.readFile("dist/server/db/products.json",(function(e,t){if(e)return console.log(e),void r.send({result:0,text:e});r.send(t)}))})),n.listen(3e3,(function(){return console.log("Server started...")}))})();